function escapeHtml(t){let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[&<>"']/g,function(t){return e[t]})}function debounce(t,e){let s;return function i(...n){let a=()=>{clearTimeout(s),t(...n)};clearTimeout(s),s=setTimeout(a,e)}}function smoothScroll(t,e=600){let s=window.pageYOffset,i=performance.now(),n;if("number"==typeof t)n=t;else if(t instanceof HTMLElement)n=t.offsetTop;else{console.error("Destino inv\xe1lido para smoothScroll. Deve ser um n\xfamero ou um HTMLElement.");return}let a=n-s;function o(t){var n,r,l,c;let d=t-i,h=(n=d,r=s,l=a,c=e,(n/=c/2)<1?l/2*n*n+r:-l/2*(--n*(n-2)-1)+r);window.scrollTo(0,h),d<e&&requestAnimationFrame(o)}requestAnimationFrame(o)}function toggleScrollToTopButton(){let t=document.getElementById("scrollToTopBtn");document.body.scrollTop>100||document.documentElement.scrollTop>100?t.classList.add("show"):t.classList.remove("show")}class ImageCarousel{constructor(t={}){if(this.transitionDuration=t.transitionDuration||500,this.autoAdvanceInterval=t.autoAdvanceInterval||4e3,this.touchSensitivity=t.touchSensitivity||100,this.currentIndex=0,this.isDragging=!1,this.startPos=0,this.currentTranslate=0,this.prevTranslate=0,this.animationId=null,this.autoAdvanceTimer=null,this.isHovering=!1,this.isTransitioning=!1,this.carousel=document.querySelector(".carousel"),this.track=document.querySelector(".carousel-track"),this.items=Array.from(document.querySelectorAll(".carousel-item")),this.prevButton=document.querySelector(".carousel-button.prev"),this.nextButton=document.querySelector(".carousel-button.next"),this.filterButtons=document.querySelectorAll(".filter-button"),!this.validateElements())return;this.itemWidth=this.items[0].offsetWidth,this.init()}validateElements(){return!!this.carousel&&!!this.track&&0!==this.items.length||(console.error("Elementos essenciais do carrossel n\xe3o encontrados"),!1)}init(){this.items.forEach(t=>{t.style.display="flex",t.classList.add("active")}),this.setupEventListeners(),this.updateVisibleItems(),this.showSlide(0),this.startAutoAdvance(),this.resizeObserver=new ResizeObserver(t=>{this.handleResize(t)}),this.resizeObserver.observe(this.track)}updateVisibleItems(){if(this.visibleItems=this.items.filter(t=>"none"!==t.style.display&&"none"!==window.getComputedStyle(t).display),this.prevButton&&this.nextButton){let t=this.visibleItems.length>1;this.prevButton.style.display=t?"":"none",this.nextButton.style.display=t?"":"none"}}handleResize(t){if(!this.isTransitioning&&(this.updateVisibleItems(),this.visibleItems.length>0)){this.itemWidth=this.visibleItems[0].offsetWidth,this.currentIndex=Math.min(this.currentIndex,this.visibleItems.length-1);let e=-this.currentIndex*this.itemWidth;this.track.style.transition="none",this.track.style.transform=`translateX(${e}px)`,this.track.offsetHeight,this.track.style.transition=`transform ${this.transitionDuration}ms ease`}}setupEventListeners(){this.prevButton&&this.prevButton.addEventListener("click",this.debounce(()=>this.prevSlide(),250)),this.nextButton&&this.nextButton.addEventListener("click",this.debounce(()=>this.nextSlide(),250)),Object.values({mouse:{start:"mousedown",move:"mousemove",end:"mouseup",leave:"mouseleave"},touch:{start:"touchstart",move:"touchmove",end:"touchend"}}).forEach(t=>{this.track.addEventListener(t.start,t=>!this.isTransitioning&&this.handleDragStart(t)),this.track.addEventListener(t.move,t=>this.handleDrag(t)),this.track.addEventListener(t.end,()=>this.handleDragEnd()),t.leave&&this.track.addEventListener(t.leave,()=>this.handleDragEnd())}),document.addEventListener("keydown",this.debounce(t=>{this.isTransitioning||("ArrowLeft"===t.key&&this.prevSlide(),"ArrowRight"===t.key&&this.nextSlide())},250)),this.filterButtons.forEach(t=>{t.addEventListener("click",()=>{let e=escapeHtml(t.dataset.filter);this.filterProjects(e),this.filterButtons.forEach(t=>t.classList.remove("active")),t.classList.add("active")})}),this.carousel&&(this.carousel.addEventListener("mouseenter",()=>{this.isHovering=!0,this.pauseAutoAdvance()}),this.carousel.addEventListener("mouseleave",()=>{this.isHovering=!1,this.resetAutoAdvance()})),this.track.addEventListener("transitionstart",()=>{this.isTransitioning=!0}),this.track.addEventListener("transitionend",()=>{this.isTransitioning=!1})}showSlide(t){if(this.updateVisibleItems(),0===this.visibleItems.length||this.isTransitioning)return;t=(t%this.visibleItems.length+this.visibleItems.length)%this.visibleItems.length,this.currentIndex=t,this.visibleItems.forEach((e,s)=>{e.classList.toggle("active",s===t)});let e=-this.currentIndex*this.itemWidth;this.currentTranslate=e,this.track.style.transform=`translateX(${e}px)`}nextSlide(){this.isTransitioning||this.showSlide(this.currentIndex+1)}prevSlide(){this.isTransitioning||this.showSlide(this.currentIndex-1)}debounce(t,e){let s;return function i(...n){let a=()=>{clearTimeout(s),t(...n)};clearTimeout(s),s=setTimeout(a,e)}}handleDragStart(t){this.isTransitioning||(this.isDragging=!0,this.track.style.cursor="grabbing",this.startPos=t.type.includes("mouse")?t.pageX:t.touches[0].clientX,this.prevTranslate=this.currentTranslate,cancelAnimationFrame(this.animationId),this.pauseAutoAdvance())}handleDrag(t){if(!this.isDragging||this.isTransitioning)return;t.preventDefault();let e=t.type.includes("mouse")?t.pageX:t.touches[0].clientX,s=e-this.startPos;this.currentTranslate=this.prevTranslate+s,this.animationId=requestAnimationFrame(()=>{this.track.style.transform=`translateX(${this.currentTranslate}px)`})}handleDragEnd(){if(!this.isDragging)return;this.isDragging=!1,this.track.style.cursor="";let t=this.currentTranslate-this.prevTranslate;Math.abs(t)>this.touchSensitivity?t>0?this.prevSlide():this.nextSlide():this.showSlide(this.currentIndex),this.isHovering||this.resetAutoAdvance()}filterProjects(t){let e=escapeHtml(t);this.items.forEach(t=>{let s=escapeHtml(t.dataset.category);t.style.display="all"===e||s===e?"flex":"none"}),this.updateVisibleItems(),this.currentIndex=0,this.showSlide(0)}startAutoAdvance(){this.autoAdvanceTimer=setInterval(()=>{this.isHovering||this.isTransitioning||this.nextSlide()},this.autoAdvanceInterval)}pauseAutoAdvance(){clearInterval(this.autoAdvanceTimer)}resetAutoAdvance(){this.pauseAutoAdvance(),this.startAutoAdvance()}}class SkillsManager{constructor(){this.skillsContents=document.querySelectorAll(".skills__content"),this.activeSection=null,this.isAnimating=!1,this.init()}init(){this.skillsContents.forEach(t=>{let e=t.querySelector(".skills__header");e&&e.addEventListener("click",()=>this.toggleSection(t))})}toggleSection(t){if(this.isAnimating)return;let e=!t.classList.contains("skills__open");this.activeSection&&this.activeSection!==t&&this.closeSection(this.activeSection),e?this.openSection(t):this.closeSection(t)}openSection(t){this.isAnimating=!0,t.classList.add("skills__open"),this.activeSection=t,this.animateProgressBars(t),setTimeout(()=>{this.isAnimating=!1},500)}closeSection(t){this.isAnimating=!0,t.classList.remove("skills__open");let e=t.querySelectorAll(".skill__progress");e.forEach(t=>{t.style.width="0%"}),this.activeSection===t&&(this.activeSection=null),setTimeout(()=>{this.isAnimating=!1},500)}animateProgressBars(t){let e=t.querySelectorAll(".skill__progress");e.forEach(t=>{t.style.width="0%"}),requestAnimationFrame(()=>{e.forEach(t=>{let e=escapeHtml(t.getAttribute("data-percentage"));t.style.width=`${e}%`})})}}class ModalManager{constructor(){this.servicesSection=document.querySelector(".services.section"),this.modalViews=document.querySelectorAll(".services__modal"),this.init()}init(){this.servicesSection.addEventListener("click",this.handleModalEvents.bind(this)),document.addEventListener("keydown",this.handleKeyDown.bind(this))}openModal(t){this.modalViews[t].classList.add("active-modal")}closeModal(){this.modalViews.forEach(t=>t.classList.remove("active-modal"))}handleModalEvents(t){let e=t.target;if(e.closest(".services__button")){let s=e.closest(".services__button"),i=s.getAttribute("data-modal");this.openModal(parseInt(i))}(e.classList.contains("services__modal-close")||e.classList.contains("services__modal"))&&this.closeModal()}handleKeyDown(t){"Escape"===t.key&&this.closeModal()}}class TestimonialsCarousel{constructor(){this.track=document.querySelector(".testimonials-track"),this.slides=Array.from(this.track.children),this.nextButton=document.querySelector(".next-testimonial"),this.prevButton=document.querySelector(".prev-testimonial"),this.dotsContainer=document.querySelector(".testimonial-dots"),this.activeSlideIndex=0,this.autoplayInterval=null,this.autoplayDelay=5e3,this.init()}init(){this.dotsContainer.innerHTML="",this.slides.forEach((t,e)=>{let s=document.createElement("button");s.className=`testimonial-dot ${0===e?"active":""}`,s.setAttribute("aria-label",`Ir para depoimento ${e+1}`),s.addEventListener("click",()=>this.goToSlide(e)),this.dotsContainer.appendChild(s)}),this.updateSlideWidth(),this.startAutoplay(),this.track.parentElement.addEventListener("mouseenter",()=>this.stopAutoplay()),this.track.parentElement.addEventListener("mouseleave",()=>this.startAutoplay()),this.nextButton.addEventListener("click",()=>this.moveToNextSlide()),this.prevButton.addEventListener("click",()=>this.moveToPrevSlide()),window.addEventListener("resize",()=>this.updateSlideWidth());let t=0,e=0;this.track.addEventListener("touchstart",e=>{t=e.changedTouches[0].screenX},{passive:!0}),this.track.addEventListener("touchend",s=>{e=s.changedTouches[0].screenX,this.handleSwipe(t,e)},{passive:!0})}updateSlideWidth(){let t=this.track.parentElement.offsetWidth;this.slides.forEach(e=>{e.style.width=`${t}px`}),this.updateSlidePosition()}updateSlidePosition(){let t=this.slides[0].offsetWidth;this.track.style.transform=`translateX(${-t*this.activeSlideIndex}px)`;let e=this.dotsContainer.children;Array.from(e).forEach((t,e)=>{t.classList.toggle("active",e===this.activeSlideIndex)})}goToSlide(t){this.activeSlideIndex=t,this.updateSlidePosition(),this.resetAutoplay()}moveToNextSlide(){this.activeSlideIndex=(this.activeSlideIndex+1)%this.slides.length,this.updateSlidePosition(),this.resetAutoplay()}moveToPrevSlide(){this.activeSlideIndex=(this.activeSlideIndex-1+this.slides.length)%this.slides.length,this.updateSlidePosition(),this.resetAutoplay()}startAutoplay(){this.autoplayInterval||(this.autoplayInterval=setInterval(()=>this.moveToNextSlide(),this.autoplayDelay))}stopAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)}resetAutoplay(){this.stopAutoplay(),this.startAutoplay()}handleSwipe(t,e){let s=t-e;Math.abs(s)>50&&(s>0?this.moveToNextSlide():this.moveToPrevSlide())}}document.addEventListener("DOMContentLoaded",()=>{let t={menuToggle:document.querySelector(".header__menu-toggle"),navMenu:document.querySelector(".header__nav"),navLinks:document.querySelectorAll(".header__nav-link"),scrollToTopBtn:document.getElementById("scrollToTopBtn"),darkModeToggle:document.getElementById("darkModeToggle"),darkModeIcon:document.getElementById("darkModeIcon"),languageLinks:document.querySelectorAll(".language-switch a"),resumeContent:document.querySelector(".resume__content"),seeMoreButton:document.querySelector(".resume__see-more"),carouselTrack:document.querySelector(".carousel-track"),skillsContent:document.querySelector(".skills__content"),servicesSection:document.querySelector(".services.section"),testimonialsTrack:document.querySelector(".testimonials-track")};t.menuToggle&&(t.menuToggle.addEventListener("click",function(){t.navMenu.classList.toggle("open"),this.classList.toggle("active"),document.body.style.overflow=t.navMenu.classList.contains("open")?"hidden":""}),document.addEventListener("click",e=>{t.navMenu.contains(e.target)||t.menuToggle.contains(e.target)||(t.navMenu.classList.remove("open"),t.menuToggle.classList.remove("active"),document.body.style.overflow="")}),t.navLinks.forEach(e=>{e.addEventListener("click",()=>{t.navMenu.classList.remove("open"),t.menuToggle.classList.remove("active"),document.body.style.overflow=""})})),t.navLinks.forEach(t=>{t.addEventListener("click",function(t){let e=this.getAttribute("href"),s=document.querySelector(e);smoothScroll(s)})}),t.navLinks.forEach(e=>{e.addEventListener("click",function(e){t.navLinks.forEach(t=>t.classList.remove("selected")),this.classList.add("selected")})});let e=document.querySelectorAll("section[id]");window.addEventListener("scroll",()=>{let t=window.pageYOffset;e.forEach(e=>{let s=e.offsetHeight,i=e.offsetTop-100,n=e.getAttribute("id"),a=document.querySelector(`.header__nav-link[href="#${n}"]`);t>i&&t<=i+s?a?.classList.add("active"):a?.classList.remove("active")})}),t.scrollToTopBtn&&(window.addEventListener("scroll",debounce(toggleScrollToTopButton,100)),t.scrollToTopBtn.addEventListener("click",()=>smoothScroll(0))),t.seeMoreButton&&t.seeMoreButton.addEventListener("click",()=>{t.resumeContent.classList.toggle("expanded"),t.resumeContent.classList.contains("expanded")?t.seeMoreButton.innerHTML='Ver Menos <span class="iconify" data-icon="uil:arrow-up"></span>':t.seeMoreButton.innerHTML='Ver Mais <span class="iconify" data-icon="uil:arrow-down"></span>'});let s=()=>{let e=document.body.classList.toggle("dark-mode");t.darkModeToggle.classList.add("rotate"),t.darkModeIcon.setAttribute("data-icon",e?"mdi:weather-night":"mdi:white-balance-sunny"),localStorage.setItem("darkMode",e?"enabled":"disabled"),setTimeout(()=>t.darkModeToggle.classList.remove("rotate"),300)},i=()=>{let e=localStorage.getItem("darkMode");"enabled"===e||null===e?(document.body.classList.add("dark-mode"),t.darkModeIcon.setAttribute("data-icon","mdi:weather-night")):(document.body.classList.remove("dark-mode"),t.darkModeIcon.setAttribute("data-icon","mdi:white-balance-sunny"))};t.darkModeToggle.addEventListener("click",s),i();let n=window.location.href;function a(){t.languageLinks.forEach(t=>{t.classList.remove("active")})}t.languageLinks.forEach(t=>{let e=t.getAttribute("href");n.endsWith(e)&&t.classList.add("active"),t.addEventListener("click",()=>{a(),t.classList.add("active")})}),t.carouselTrack&&new ImageCarousel,t.skillsContent&&new SkillsManager,t.servicesSection&&new ModalManager,t.testimonialsTrack&&new TestimonialsCarousel});